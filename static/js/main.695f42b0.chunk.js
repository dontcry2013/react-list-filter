(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{194:function(e,t,a){e.exports=a(373)},373:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=a(51),s=a(188),d=a(162),u=(a(204),a(17));const i={loading:!1,users:[],error:""};var p=(e=i,t)=>{switch(t.type){case"FETCH_USERS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case"FETCH_USERS_SUCCESS":return{loading:!1,users:t.payload,error:""};case"FETCH_USERS_FAILURE":return{loading:!1,users:[],error:t.payload};default:return e}};const E={loading:!1,posts:[],error:""};var y=(e=E,t)=>{switch(t.type){case"FETCH_POST_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case"FETCH_POST_SUCCESS":return{loading:!1,posts:t.payload,error:""};case"FETCH_POST_FAILURE":return{loading:!1,posts:[],error:t.payload};default:return e}};const b={loading:!1,pets:[],error:""};var O=(e=b,t)=>{switch(t.type){case"FETCH_PETS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case"FETCH_PETS_SUCCESS":return{loading:!1,pets:t.payload,error:""};case"FETCH_PETS_FAILURE":return{loading:!1,pets:[],error:t.payload};default:return e}};var S=Object(o.c)({user:p,post:y,pet:O}),m=a(38),j=a(379),g=a(80),h=a(376),f=a(377);var C=a(163),T=a.n(C);const v=e=>{const t=Object(n.useRef)(!0),a=Object(n.useState)({data:null,loading:!0}),r=Object(m.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)(()=>()=>{t.current=!1},[]),Object(n.useEffect)(()=>{l(e=>({data:e.data,loading:!0})),T.a.get(e).then(e=>{t.current&&l({data:e.data,loading:!1})})},[e,l]),c};var w=a(378),_=({loading:e,searchVal:t,filteredInfo:a,maleState:c})=>{const l=Object(n.useState)(a),o=Object(m.a)(l,2),s=o[0],d=o[1];Object(n.useEffect)(()=>{d(a)},[a]);const u=[{title:"Name",dataIndex:"petName",key:"petName",sorter:(e,t)=>e.petName.localeCompare(t.petName),filteredValue:t,onFilter:(e,t)=>t.petName.toLowerCase().includes(e.toLowerCase())},{title:"City",dataIndex:"city",key:"city",filters:[{text:"Melbourne",value:"Melbourne"},{text:"Sydney",value:"Sydney"}],filteredValue:s.city,onFilter:(e,t)=>t.city.includes(e)},{title:"",dataIndex:"type",key:"type",filteredValue:s.petType,onFilter:(e,t)=>t.petType.includes(e),render:(e,t)=>null}];return r.a.createElement("div",null,r.a.createElement(w.a,{rowKey:"petName",dataSource:c,columns:u,loading:e,pagination:!1,onChange:(e,t,a)=>{(e=>{d(e)})(t)},style:{margin:"2vh"}}))};const F=j.a.Search,U=g.a.Option;var N=()=>{const e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(m.a)(l,2),s=o[0],d=o[1],i=Object(n.useState)(null),p=Object(m.a)(i,2),E=p[0],y=p[1],b=Object(n.useState)({}),O=Object(m.a)(b,2),S=O[0],j=O[1],C=v("https://dorsavicodechallenge.azurewebsites.net/Melbourne"),T=v("https://dorsavicodechallenge.azurewebsites.net/Sydney");return Object(n.useEffect)(()=>{if(C&&C.data){const e=[],t=[];C.data.forEach(a=>{const n=Object(u.a)(Object(u.a)({},a),{},{city:"Melbourne"});delete n.pets,"Male"===n.gender?a.pets&&a.pets.forEach(t=>{e.push(Object(u.a)(Object(u.a)({},n),{},{petName:t.name,petType:t.type}))}):a.pets&&a.pets.forEach(e=>{t.push(Object(u.a)(Object(u.a)({},n),{},{petName:e.name,petType:e.type}))})}),c([...a,...e]),d([...s,...t])}},[C]),Object(n.useEffect)(()=>{if(T&&T.data){const e=[],t=[];T.data.forEach(a=>{const n=Object(u.a)(Object(u.a)({},a),{},{city:"Sydney"});delete n.pets,"Male"===n.gender?a.pets&&a.pets.forEach(t=>{e.push(Object(u.a)(Object(u.a)({},n),{},{petName:t.name,petType:t.type}))}):a.pets&&a.pets.forEach(e=>{t.push(Object(u.a)(Object(u.a)({},n),{},{petName:e.name,petType:e.type}))})}),c([...a,...e]),d([...s,...t])}},[T]),r.a.createElement("div",null,r.a.createElement(h.a,{style:{position:"sticky",top:"0",left:"0",margin:"2vh"}},r.a.createElement(F,{onChange:e=>{console.log(e.target.value),y([e.target.value])},placeholder:"Search",enterButton:!0,style:{width:"200px"}}),r.a.createElement(g.a,{showSearch:!0,style:{width:200},placeholder:"Select a city",onChange:e=>{j(Object(u.a)(Object(u.a)({},S),{},{city:[e]||!1}))}},r.a.createElement(U,{value:""}),r.a.createElement(U,{value:"Melbourne"},"Melbourne"),r.a.createElement(U,{value:"Sydney"},"Sydney")),r.a.createElement(g.a,{showSearch:!0,style:{width:200},placeholder:"Select a pet type",onChange:e=>j(Object(u.a)(Object(u.a)({},S),{},{petType:[e]||!1}))},r.a.createElement(U,{value:""}),r.a.createElement(U,{value:"Cat"},"Cat"),r.a.createElement(U,{value:"Dog"},"Dog"))),r.a.createElement(f.a,{orientation:"left"},"Male"),r.a.createElement(_,{loading:C.loading||T.loading,searchVal:E,filteredInfo:S,maleState:a}),r.a.createElement(f.a,{orientation:"left"},"Female"),r.a.createElement(_,{loading:C.loading||T.loading,searchVal:E,filteredInfo:S,maleState:s}))};const I=Object(o.d)(S,Object(o.a)(d.a));function R(){return r.a.createElement(s.a,{store:I},r.a.createElement(N,null))}const H=document.getElementById("root");l.a.render(r.a.createElement(R,null),H)}},[[194,1,2]]]);
//# sourceMappingURL=main.695f42b0.chunk.js.map